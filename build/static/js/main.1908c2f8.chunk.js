(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},238:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),c=a(11),n=a.n(c),o=(a(115),a(41)),i=a.n(o),l=a(69),d=a(14),u=(a(117),a(26)),b=a(12),j=a(276),h=a(278),v=a(273),O=a(10),g=a(282),x=a(281),p=a(3),f=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(b.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(b.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function m(e){var t=e.allCountries,a=e.updateChartByCountry,s=f();return Object(p.jsx)("div",{className:s.root,children:Object(p.jsx)("nav",{children:Object(p.jsxs)(j.a,{children:[Object(p.jsxs)(h.a,{className:s.title,variant:"h6",noWrap:!0,children:["Covid-Tracker"," "]}),Object(p.jsx)("div",{className:s.search,children:Object(p.jsx)(g.a,{onChange:function(e,t){var s;a(null!==(s=null===t||void 0===t?void 0:t.country)&&void 0!==s?s:"all")},id:"combo-box-demo",options:t,getOptionLabel:function(e){return e.country},style:{width:300},renderInput:function(e){return Object(p.jsx)(x.a,Object(u.a)(Object(u.a)({},e),{},{label:"Country",placeholder:"Search..",variant:"outlined"}))},on:!0})})]})})})}var C=a(99);function y(e){return Object(p.jsx)("div",{className:"map",children:Object(p.jsx)(C.WorldMap,{color:"green",title:"","value-suffix":"people",size:"lg",data:e.mapData.filter((function(e){return null!=e.country}))})})}function k(e){var t=e.allData;return Object(p.jsx)("div",{className:"all",children:Object(p.jsxs)("div",{className:"all-content",children:[Object(p.jsxs)("div",{className:"all-element",children:["Cases: ",t.cases]}),Object(p.jsxs)("div",{className:"all-element",children:["Deaths: ",t.deaths]}),Object(p.jsxs)("div",{className:"all-element",children:["Recovered:",t.recovered]})]})})}var N=a(16),w=function(e){var t,a,s,r,c=e.chartData,n={labels:null!==(t=Object.keys(null===c||void 0===c?void 0:c.cases))&&void 0!==t?t:[],datasets:[{label:"# of Cases",data:null!==(a=Object.values(null===c||void 0===c?void 0:c.cases))&&void 0!==a?a:[],fill:!0,backgroundColor:"rgba(255, 99, 132,0.3)",borderColor:"rgb(255, 99, 132)"},{label:"# of Deaths",data:null!==(s=Object.values(null===c||void 0===c?void 0:c.deaths))&&void 0!==s?s:[],fill:!0,backgroundColor:"rgba(255,255,255,0.3)",borderColor:"black"},{label:"# of Recovered",data:null!==(r=Object.values(null===c||void 0===c?void 0:c.recovered))&&void 0!==r?r:[],fill:!0,backgroundColor:"rgba(12, 237, 125,0.3)",borderColor:"rgb(12, 237, 125)"}]};return Object(p.jsx)("div",{className:"globalChart",children:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(N.c,{data:n,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})})})},D=function(e){var t={labels:e.chartCountries.map((function(e){return e.country})).slice(0,10),datasets:[{label:"# of cases",data:e.chartCountries.map((function(e){return e.cases})).slice(0,10),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("h1",{className:"title"}),Object(p.jsx)("div",{className:"links"})]}),Object(p.jsx)(N.a,{data:t,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})]})},S=function(e){var t,a,s=e.allData,r={labels:null!==(t=Object.keys(s))&&void 0!==t?t:[],datasets:[{label:"",data:null!==(a=Object.values(s))&&void 0!==a?a:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]};return Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("h1",{className:"title"}),Object(p.jsx)("div",{className:"links"})]})," ",Object(p.jsx)(N.b,{data:r})]})},F=function(e){var t,a,s=e.chartData,r={labels:null!==(t=Object.keys(s))&&void 0!==t?t:[],datasets:[{label:"# of Candidates",data:null!==(a=Object.values(s))&&void 0!==a?a:[],fill:!0,backgroundColor:"rgba(255, 99, 132,0.3)",borderColor:"rgb(255, 99, 132)"}]};return Object(p.jsx)("div",{className:"globalChart",children:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(N.c,{data:r,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})})})},A=function(e){var t={labels:e.chartCountries.map((function(e){return e.country})).slice(0,10),datasets:[{label:"# of cases",data:e.chartCountries.map((function(e){return Object.values(e.timeline).reduce((function(e,t){return e+t}))})).slice(0,10),backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("h1",{className:"title"}),Object(p.jsx)("div",{className:"links"})]}),Object(p.jsx)(N.a,{data:t,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})]})};var I=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(null),n=Object(d.a)(c,2),o=n[0],u=n[1],b=Object(s.useState)(!0),j=Object(d.a)(b,2),h=j[0],v=j[1],O=Object(s.useState)(!1),g=Object(d.a)(O,2),x=g[0],f=g[1],C=Object(s.useState)([]),N=Object(d.a)(C,2),I=N[0],L=N[1],R=Object(s.useState)({}),B=Object(d.a)(R,2),W=B[0],Z=B[1],E=Object(s.useState)([]),P=Object(d.a)(E,2),T=P[0],G=P[1],J=Object(s.useState)([]),M=Object(d.a)(J,2),z=M[0],U=M[1],q=Object(s.useState)([]),H=Object(d.a)(q,2),K=H[0],Q=H[1],V=function(){var e=Object(l.a)(i.a.mark((function e(t){var a,s,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,fetch("https://disease.sh/v3/covid-19/historical/".concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,u("all"==t?s:s.timeline),e.next=10,fetch("https://disease.sh/v3/covid-19/countries/".concat(t));case 10:return r=e.sent,e.next=13,r.json();case 13:return r=e.sent,e.next=16,fetch("https://disease.sh/v3/covid-19/vaccine/coverage/countries/".concat(t));case 16:return c=e.sent,e.next=19,c.json();case 19:c=e.sent,U(c.timeline),Z({cases:r.cases,recovered:r.recovered,deaths:r.deaths}),v(!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,s,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://disease.sh/v3/covid-19/countries");case 3:return t=e.sent,e.next=6,t.json();case 6:return t=e.sent,e.next=9,fetch("https://disease.sh/v3/covid-19/historical/all");case 9:return a=e.sent,e.next=12,a.json();case 12:return a=e.sent,e.next=15,fetch("https://disease.sh/v3/covid-19/all");case 15:return s=e.sent,e.next=18,s.json();case 18:return s=e.sent,e.next=21,fetch("https://disease.sh/v3/covid-19/vaccine/coverage");case 21:return r=e.sent,e.next=24,r.json();case 24:return r=e.sent,e.next=27,fetch("https://disease.sh/v3/covid-19/vaccine/coverage/countries");case 27:return c=e.sent,e.next=30,c.json();case 30:return c=e.sent,e.abrupt("return",[t,a,s,r,c,null]);case 34:return e.prev=34,e.t0=e.catch(0),e.abrupt("return",[null,null,null,null,null,null,e.t0]);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){X().then((function(e){r(e[0].map((function(e){var t;return{country:null===(t=e.countryInfo)||void 0===t?void 0:t.iso2,value:e.cases}}))),G(e[0].map((function(e){return{country:e.country}}))),L(e[0].map((function(e){return{country:e.country,cases:e.cases,recovered:e.recovered,deaths:e.deaths}}))),u(e[1]),Z({deaths:e[2].deaths,recovered:e[2].recovered,cases:e[2].cases}),U(e[3]),Q(e[4]),f(!1),v(!1)})).catch((function(e){console.log(e),f(!0),v(!1)}))}),[]),Object(p.jsxs)("div",{className:"myPage",children:[Object(p.jsx)(m,{allCountries:T,updateChartByCountry:V}),h?Object(p.jsx)("h1",{children:"Loading..."}):x?Object(p.jsx)("h1",{children:"Une erreur s'est produite"}):Object(p.jsxs)(p.Fragment,{children:[" ",Object(p.jsxs)("div",{className:"content",children:[Object(p.jsx)(k,{allData:W}),Object(p.jsx)(y,{mapData:a})]}),Object(p.jsxs)("div",{className:"charts",children:[Object(p.jsx)("div",{className:"lines",children:Object(p.jsx)(w,{chartData:o})}),Object(p.jsxs)("div",{className:"bars",children:[Object(p.jsx)(D,{chartCountries:I})," "]}),Object(p.jsxs)("div",{className:"donut",children:[" ",Object(p.jsx)(S,{allData:W})]}),Object(p.jsx)("div",{className:"lines",children:Object(p.jsx)(F,{chartData:z})}),Object(p.jsx)("div",{className:"bars",children:Object(p.jsx)(A,{chartCountries:K})})]})]})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,284)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),s(e),r(e),c(e),n(e)}))};n.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("root")),L()}},[[238,1,2]]]);
//# sourceMappingURL=main.1908c2f8.chunk.js.map